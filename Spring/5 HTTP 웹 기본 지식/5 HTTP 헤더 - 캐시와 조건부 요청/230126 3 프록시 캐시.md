# 프록시 캐시

### 📍 프록시 캐시의 필요성

한국의 클라이언트가 미국의 웹서버에 요청을 보내고 응답을 받을경우,
물리적인 거리 때문에 message 전송 시간이 상대적으로 오래걸리게 된다.

```
한국 클라이언트 <--- 물리적인 거리 ---> 미국 서버
```

프록시 캐시를 도입해 이러한 문제점을 해결할 수 있다.

### 📍 프록시 캐시의 원리

한국에서 미국에 있는 오리지널 서버와 통신하는 프록시 캐시 서버 (public cache) 를 만들어놓은 후,
한국에 있는 클라이언트 (private cache) 가 미국 서버에게 요청을 할경우 캐시 서버를 통해서 요청하도록한다.

```
한국 클라이언트 <--> 프록시 캐시 서버 <--- 물리적인 거리 ---> 미국 서버
(private 캐시)     (public 캐시)
```

이렇게 요청되는 data 는 캐시서버에 캐시로 저장되어 한국 클라이언트가 동일한 요청을 할경우 미국까지 통신하지 않게된다.

- 최초로 요청되는 data 는 느려지지만 이후부터는 매우 신속하게 data 를 전달할 수 있게 된다.

### 📍 캐시 지시어 directives
Cache-Control

- Cache-Control: public
    - 응답이 public 캐시에 저장되어도 됨
- Cache-Control: private
    - 응답이 해상 사용자만을 위한 것임
    - private 캐시에 저장되어야만 함
    - 기본값으로 설정된 값임
- Cache-Control: s-maxage
    - 프록시 캐시에만 적용되는 max-age
- Age: 60 (HTTP 헤더)
    - ORIGIN 서버에 응답 후 프록시 캐시 내에 머문 시간
    - 초단위 이다.